@{
    ViewData["Title"] = "اختر مستوى الصعوبة - مسابقات تعليمية إسلامية";
    int categoryId = (int)ViewBag.CategoryId;
    string categoryName = ViewBag.CategoryName as string;
}

<div class="container" style="min-height:60vh; padding-top: 100px; padding-bottom: 40px;">
    <div class="section-header" style="margin-bottom:2.5rem;">
        <h2 class="section-title">اختر مستوى الصعوبة</h2>
        <p class="section-subtitle">اختر المستوى المناسب لك لتحصل على أسئلة تلائم معرفتك</p>
    </div>
    <div class="categories-grid" style="margin-bottom:2.5rem;">
        <!-- Easy Level Card -->
        <div class="category-card level-card easy" data-level="easy" style="--level-border-color: #43a047;">
            <div class="card-icon" style="background: linear-gradient(45deg, #43a047, #aee571);">
                <i class="fas fa-seedling"></i>
            </div>
            <div class="card-title">مبتدئ</div>
            <div class="card-description">مناسبة للأطفال والمبتدئين في العلوم الإسلامية</div>
        </div>
        <!-- Medium Level Card -->
        <div class="category-card level-card medium" data-level="medium" style="--level-border-color: #f4a261;">
            <div class="card-icon" style="background: linear-gradient(45deg, #f4a261, #e76f51);">
                <i class="fas fa-brain"></i>
            </div>
            <div class="card-title">متوسط</div>
            <div class="card-description">أسئلة متوسطة الصعوبة تحتاج لبعض المعرفة الإسلامية</div>
        </div>
        <!-- Hard Level Card -->
        <div class="category-card level-card hard" data-level="hard" style="--level-border-color: #d7263d;">
            <div class="card-icon" style="background: linear-gradient(45deg, #d7263d, #f46036);">
                <i class="fas fa-fire-alt"></i>
            </div>
            <div class="card-title">متقدم</div>
            <div class="card-description">أسئلة صعبة تختبر عمق معرفتك الإسلامية</div>
        </div>
    </div>
    <div style="text-align:center;">
        <button class="btn btn-primary" id="startQuizBtn" disabled style="font-size:1.1rem;">
            ابدأ المسابقة
        </button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const levelCards = document.querySelectorAll('.level-card');
        const startQuizBtn = document.getElementById('startQuizBtn');
        let selectedLevel = null;

        levelCards.forEach(card => {
            card.addEventListener('click', function () {
                levelCards.forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                selectedLevel = this.dataset.level;
                startQuizBtn.disabled = false;
            });
        });

        startQuizBtn.addEventListener('click', function () {
            if (selectedLevel) {
                const categoryId = @categoryId;
                window.location.href = `@Url.Action("Quiz", "Questions")?categoryId=${categoryId}&level=${selectedLevel}`;
            }
        });
    });
</script>